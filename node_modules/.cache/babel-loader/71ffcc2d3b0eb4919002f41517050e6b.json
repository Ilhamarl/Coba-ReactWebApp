{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mamikos/Documents/WebDev/cobareactwebapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mamikos/Documents/WebDev/cobareactwebapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useCallback,useContext}from'react';import StyledFirebaseAuth from'react-firebaseui/StyledFirebaseAuth';import{withRouter,Redirect}from'react-router';import firebaseServices from\"../services/firebase\";import{AuthContext}from'../services/auth';import*as firebase from\"firebase/app\";var Login=function Login(_ref){var history=_ref.history;var handleLogin=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _event$target$element,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_event$target$element=event.target.elements,email=_event$target$element.email,password=_event$target$element.password;_context.prev=2;_context.next=5;return firebaseServices.auth().signInWithEmailAndPassword(email.value,password.value);case 5:history.push(\"/\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);alert(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[history]);var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;if(currentUser){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleLogin,className:\"mt-5 container col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"InputEmail\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",id:\"InputEmail\",\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/React.createElement(\"small\",{id:\"emailHelp\",className:\"form-text text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"InputPassword\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",id:\"InputPassword\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group form-check\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"RememberMe\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\",for:\"RememberMe\"},\"Remember Me\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\"},\"Login\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(StyledFirebaseAuth,{uiConfig:uiConfig,firebaseAuth:firebaseServices.auth(),className:\"btn btn-block\"})));};export default withRouter(Login);// Configure FirebaseUI.\nvar uiConfig={// Popup signin flow rather than redirect flow.\nsignInFlow:'popup',// We will display Google and Facebook as auth providers.\nsignInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID,firebase.auth.FacebookAuthProvider.PROVIDER_ID],callbacks:{// Avoid redirects after sign-in.\nsignInSuccessWithAuthResult:function signInSuccessWithAuthResult(){return false;}}};","map":{"version":3,"sources":["/Users/mamikos/Documents/WebDev/cobareactwebapp/src/pages/Login.js"],"names":["React","useCallback","useContext","StyledFirebaseAuth","withRouter","Redirect","firebaseServices","AuthContext","firebase","Login","history","handleLogin","event","preventDefault","target","elements","email","password","auth","signInWithEmailAndPassword","value","push","alert","currentUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","callbacks","signInSuccessWithAuthResult"],"mappings":"yUAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,UAA7B,KAA+C,OAA/C,CAEA,MAAOC,CAAAA,kBAAP,KAA+B,qCAA/B,CAEA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,cAArC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,sBAA7B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,cAA1B,CAIA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAE3B,GAAMC,CAAAA,WAAW,CAAGV,WAAW,2FAC3B,iBAAMW,KAAN,2JACIA,KAAK,CAACC,cAAN,GADJ,sBAEgCD,KAAK,CAACE,MAAN,CAAaC,QAF7C,CAEYC,KAFZ,uBAEYA,KAFZ,CAEmBC,QAFnB,uBAEmBA,QAFnB,uCAIcX,CAAAA,gBAAgB,CAACY,IAAjB,GAAwBC,0BAAxB,CAAmDH,KAAK,CAACI,KAAzD,CAAgEH,QAAQ,CAACG,KAAzE,CAJd,QAKQV,OAAO,CAACW,IAAR,CAAa,GAAb,EALR,+EAQQC,KAAK,aAAL,CARR,oEAD2B,gEAY3B,CAACZ,OAAD,CAZ2B,CAA/B,CAF2B,gBAiBHR,UAAU,CAACK,WAAD,CAjBP,CAiBnBgB,WAjBmB,aAiBnBA,WAjBmB,CAoB3B,GAAIA,WAAJ,CAAiB,CACb,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CAED,mBACI,2BAAK,SAAS,CAAC,4BAAf,eACI,4BAAM,QAAQ,CAAEZ,WAAhB,CAA6B,SAAS,CAAC,sBAAvC,eAEI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,GAAG,CAAC,YAAX,kBADJ,cAEI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,SAAS,CAAC,cAA3C,CAA0D,EAAE,CAAC,YAA7D,CAA0E,mBAAiB,WAA3F,EAFJ,cAGI,6BAAO,EAAE,CAAC,WAAV,CAAsB,SAAS,CAAC,sBAAhC,mDAHJ,CAFJ,cAOI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,GAAG,CAAC,eAAX,aADJ,cAEI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,SAAS,CAAC,cAAjD,CAAgE,EAAE,CAAC,eAAnE,EAFJ,CAPJ,cAWI,2BAAK,SAAS,CAAC,uBAAf,eACI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,kBAAjC,CAAoD,EAAE,CAAC,YAAvD,EADJ,cAEI,6BAAO,SAAS,CAAC,kBAAjB,CAAoC,GAAG,CAAC,YAAxC,gBAFJ,CAXJ,cAgBK,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2BAAhC,UAhBL,cAkBI,8BAlBJ,cAmBI,oBAAC,kBAAD,EAAoB,QAAQ,CAAEa,QAA9B,CAAwC,YAAY,CAAElB,gBAAgB,CAACY,IAAjB,EAAtD,CAA+E,SAAS,CAAC,eAAzF,EAnBJ,CADJ,CADJ,CAyBH,CAjDD,CAmDA,cAAed,CAAAA,UAAU,CAACK,KAAD,CAAzB,CAGA;AACA,GAAMe,CAAAA,QAAQ,CAAG,CACb;AACAC,UAAU,CAAE,OAFC,CAGb;AACAC,aAAa,CAAE,CACXlB,QAAQ,CAACU,IAAT,CAAcS,kBAAd,CAAiCC,WADtB,CAEXpB,QAAQ,CAACU,IAAT,CAAcW,oBAAd,CAAmCD,WAFxB,CAJF,CAQbE,SAAS,CAAE,CACP;AACAC,2BAA2B,CAAE,6CAAM,MAAN,EAFtB,CARE,CAAjB","sourcesContent":["import React, { useCallback, useContext } from 'react';\n\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\nimport { withRouter, Redirect } from 'react-router';\nimport firebaseServices from \"../services/firebase\";\nimport { AuthContext } from '../services/auth';\n\nimport * as firebase from \"firebase/app\";\n\n\n\nconst Login = ({ history }) => {\n\n    const handleLogin = useCallback(\n        async event => {\n            event.preventDefault();\n            const { email, password } = event.target.elements;\n            try {\n                await firebaseServices.auth().signInWithEmailAndPassword(email.value, password.value);\n                history.push(\"/\");\n            }\n            catch (error) {\n                alert(error);\n            }\n        },\n        [history]\n    );\n\n    const { currentUser } = useContext(AuthContext);\n\n\n    if (currentUser) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <div className=\"row justify-content-center\">\n            <form onSubmit={handleLogin} className=\"mt-5 container col-4\">\n\n                <div className=\"form-group\">\n                    <label for=\"InputEmail\">Email address</label>\n                    <input type=\"email\" name=\"email\" className=\"form-control\" id=\"InputEmail\" aria-describedby=\"emailHelp\" />\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n                </div>\n                <div className=\"form-group\">\n                    <label for=\"InputPassword\">Password</label>\n                    <input type=\"password\" name=\"password\" className=\"form-control\" id=\"InputPassword\" />\n                </div>\n                <div className=\"form-group form-check\">\n                    <input type=\"checkbox\" className=\"form-check-input\" id=\"RememberMe\" />\n                    <label className=\"form-check-label\" for=\"RememberMe\">Remember Me</label>\n                </div>\n                \n                 <button type=\"submit\" className=\"btn btn-primary btn-block\">Login</button>\n\n                <hr></hr>\n                <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebaseServices.auth()} className=\"btn btn-block\" />\n            </form>\n        </div>\n    )\n}\n\nexport default withRouter(Login);\n\n\n// Configure FirebaseUI.\nconst uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: 'popup',\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID\n    ],\n    callbacks: {\n        // Avoid redirects after sign-in.\n        signInSuccessWithAuthResult: () => false\n    }\n};\n"]},"metadata":{},"sourceType":"module"}